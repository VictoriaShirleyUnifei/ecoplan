<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An√°lises - EcoPlan</title>
    
    <link rel="stylesheet" href="styles/index.css">
    <link rel="stylesheet" href="styles/analysis.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üåç</span>
                    <h1>EcoPlan</h1>
                    <span class="beta-tag">BETA</span>
                </div>
                <nav class="main-nav">
                    <ul class="nav-list">
                        <li><a href="index.html" class="nav-link">In√≠cio</a></li>
                        <li><a href="projects.html" class="nav-link">Projetos</a></li>
                        <li><a href="analysis.html" class="nav-link">An√°lises</a></li>
                        <li><a href="reports.html" class="nav-link active">Relat√≥rios</a></li>
                    </ul>
                </nav>
                <div class="user-actions">
                    <button class="btn-login" id="headerLoginBtn">Entrar</button>
                    <button class="btn-register" id="headerRegisterBtn">
                    Cadastrar
                    </button>

                    <!-- Estado logado (inicialmente escondido) -->
                    <div class="user-menu" id="userMenu" style="display: none">
                    <!-- <button class="user-avatar" id="userAvatar">
                        <span id="avatarInitials">U</span>
                    </button> -->
                    <!-- <div class="user-dropdown" id="userDropdown">
                        <div class="user-info">
                        <span id="userName">Usu√°rio</span>
                        <span id="userEmail">usuario@email.com</span>
                        </div>
                        <div class="dropdown-actions">
                        <a href="profile.html" class="dropdown-item">
                            <span class="dropdown-icon">üë§</span>
                            Meu Perfil
                        </a>
                        <a href="projects.html" class="dropdown-item">
                            <span class="dropdown-icon">üìã</span>
                            Meus Projetos
                        </a>
                        <a href="settings.html" class="dropdown-item">
                            <span class="dropdown-icon">‚öôÔ∏è</span>
                            Configura√ß√µes
                        </a>
                        <div class="dropdown-divider"></div>
                        <button class="dropdown-item logout-btn" id="logoutBtn">
                            <span class="dropdown-icon">üö™</span>
                            Sair
                        </button>
                        </div>
                    </div> -->
                    <button class="dropdown-item logout-btn" id="logoutBtn">Sair</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Conte√∫do Principal -->
        <main class="analysis-main">
            <div class="analysis-container">
                <!-- Header -->
                <div class="page-header">
                    <div class="header-content">
                        <h1>An√°lises Urban√≠sticas</h1>
                        <p>Ferramentas avan√ßadas para an√°lise e planejamento urbano sustent√°vel</p>
                    </div>
                    <button class="btn-primary" id="newAnalysisBtn">
                        <span class="btn-icon">+</span>
                        Nova An√°lise
                    </button>
                </div>

                <!-- M√©tricas R√°pidas -->
                <div class="analysis-metrics">
                    <div class="metric-card">
                        <div class="metric-icon">üå°Ô∏è</div>
                        <div class="metric-info">
                            <h3>24</h3>
                            <p>An√°lises de Calor</p>
                            <span class="metric-trend positive">+12%</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üåø</div>
                        <div class="metric-info">
                            <h3>18</h3>
                            <p>An√°lises de Vegeta√ß√£o</p>
                            <span class="metric-trend positive">+8%</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üìä</div>
                        <div class="metric-info">
                            <h3>42</h3>
                            <p>An√°lises Conclu√≠das</p>
                            <span class="metric-trend positive">+15%</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">‚è±Ô∏è</div>
                        <div class="metric-info">
                            <h3>2.3h</h3>
                            <p>Tempo M√©dio</p>
                            <span class="metric-trend negative">-5%</span>
                        </div>
                    </div>
                </div>

                <!-- Ferramentas de An√°lise -->
                <div class="analysis-tools">
                    <h2>Ferramentas de An√°lise</h2>
                    <div class="tools-grid">
                        <!-- Ferramenta 1 -->
                        <div class="tool-card" data-tool="heat">
                            <div class="tool-header">
                                <div class="tool-icon">üî•</div>
                                <h3>Ilhas de Calor</h3>
                            </div>
                            <p class="tool-description">
                                Identifique √°reas urbanas com temperaturas elevadas e proponha solu√ß√µes de mitiga√ß√£o.
                            </p>
                            <div class="tool-features">
                                <span class="feature-tag">Temperatura Superficial</span>
                                <span class="feature-tag">Mapa de Calor</span>
                                <span class="feature-tag">Recomenda√ß√µes</span>
                            </div>
                            <button class="btn-primary tool-action" data-tool="heat">
                                Executar An√°lise
                            </button>
                        </div>

                        <!-- Ferramenta 2 -->
                        <div class="tool-card" data-tool="vegetation">
                            <div class="tool-header">
                                <div class="tool-icon">üåø</div>
                                <h3>√Åreas Verdes</h3>
                            </div>
                            <p class="tool-description">
                                Analise cobertura vegetal, qualidade do verde e identifique oportunidades de expans√£o.
                            </p>
                            <div class="tool-features">
                                <span class="feature-tag">NDVI</span>
                                <span class="feature-tag">Cobertura Vegetal</span>
                                <span class="feature-tag">Conectividade</span>
                            </div>
                            <button class="btn-primary tool-action" data-tool="vegetation">
                                Executar An√°lise
                            </button>
                        </div>

                        <!-- Ferramenta 3 -->
                        <div class="tool-card" data-tool="sustainability">
                            <div class="tool-header">
                                <div class="tool-icon">‚ôªÔ∏è</div>
                                <h3>Sustentabilidade</h3>
                            </div>
                            <p class="tool-description">
                                Avalie indicadores de sustentabilidade urbana e propostas de melhorias ambientais.
                            </p>
                            <div class="tool-features">
                                <span class="feature-tag">Pegada Ecol√≥gica</span>
                                <span class="feature-tag">Efici√™ncia Energ√©tica</span>
                                <span class="feature-tag">Mobilidade</span>
                            </div>
                            <button class="btn-primary tool-action" data-tool="sustainability">
                                Executar An√°lise
                            </button>
                        </div>

                        <!-- Ferramenta 4 -->
                        <div class="tool-card" data-tool="demography">
                            <div class="tool-header">
                                <div class="tool-icon">üë•</div>
                                <h3>Demografia</h3>
                            </div>
                            <p class="tool-description">
                                Estude distribui√ß√£o populacional, densidade e caracter√≠sticas socioecon√¥micas.
                            </p>
                            <div class="tool-features">
                                <span class="feature-tag">Densidade</span>
                                <span class="feature-tag">Crescimento</span>
                                <span class="feature-tag">Indicadores</span>
                            </div>
                            <button class="btn-primary tool-action" data-tool="demography">
                                Executar An√°lise
                            </button>
                        </div>

                        <!-- Ferramenta 5 -->
                        <div class="tool-card" data-tool="mobility">
                            <div class="tool-header">
                                <div class="tool-icon">üöó</div>
                                <h3>Mobilidade</h3>
                            </div>
                            <p class="tool-description">
                                Analise fluxos de tr√°fego, acessibilidade e propostas de transporte sustent√°vel.
                            </p>
                            <div class="tool-features">
                                <span class="feature-tag">Acessibilidade</span>
                                <span class="feature-tag">Transporte P√∫blico</span>
                                <span class="feature-tag">Tr√°fego</span>
                            </div>
                            <button class="btn-primary tool-action" data-tool="mobility">
                                Executar An√°lise
                            </button>
                        </div>

                        <!-- Ferramenta 6 -->
                        <div class="tool-card" data-tool="hydrology">
                            <div class="tool-header">
                                <div class="tool-icon">üíß</div>
                                <h3>Hidrologia Urbana</h3>
                            </div>
                            <p class="tool-description">
                                Estude drenagem, √°reas de risco de inunda√ß√£o e solu√ß√µes de infraestrutura verde.
                            </p>
                            <div class="tool-features">
                                <span class="feature-tag">Drenagem</span>
                                <span class="feature-tag">Inunda√ß√µes</span>
                                <span class="feature-tag">Infraestrutura Verde</span>
                            </div>
                            <button class="btn-primary tool-action" data-tool="hydrology">
                                Executar An√°lise
                            </button>
                        </div>
                    </div>
                </div>

                <!-- An√°lises Recentes -->
                <div class="recent-analysis">
                    <div class="section-header">
                        <h2>An√°lises Recentes</h2>
                        <a href="#" class="view-all-link">Ver todas ‚Üí</a>
                    </div>
                    
                    <div class="analysis-list">
                        <!-- An√°lise 1 -->
                        <div class="analysis-item">
                            <div class="analysis-main">
                                <div class="analysis-type heat">
                                    <div class="type-icon">üî•</div>
                                    <span>Ilhas de Calor</span>
                                </div>
                                <div class="analysis-info">
                                    <h4>Centro de S√£o Paulo - An√°lise T√©rmica</h4>
                                    <p>Identifica√ß√£o de √°reas cr√≠ticas e propostas de mitiga√ß√£o</p>
                                    <div class="analysis-meta">
                                        <span class="location">üìç S√£o Paulo, SP</span>
                                        <span class="date">üìÖ 15 Jan 2024</span>
                                        <span class="duration">‚è±Ô∏è 45 min</span>
                                    </div>
                                </div>
                            </div>
                            <div class="analysis-actions">
                                <div class="analysis-status completed">
                                    Conclu√≠da
                                </div>
                                <button class="btn-icon" title="Ver resultados">üëÅÔ∏è</button>
                                <button class="btn-icon" title="Exportar">üì§</button>
                                <button class="btn-icon" title="Mais op√ß√µes">‚ãØ</button>
                            </div>
                        </div>

                        <!-- An√°lise 2 -->
                        <div class="analysis-item">
                            <div class="analysis-main">
                                <div class="analysis-type vegetation">
                                    <div class="type-icon">üåø</div>
                                    <span>√Åreas Verdes</span>
                                </div>
                                <div class="analysis-info">
                                    <h4>Zona Norte - Cobertura Vegetal</h4>
                                    <p>An√°lise de NDVI e oportunidades de expans√£o verde</p>
                                    <div class="analysis-meta">
                                        <span class="location">üìç Rio de Janeiro, RJ</span>
                                        <span class="date">üìÖ 12 Jan 2024</span>
                                        <span class="duration">‚è±Ô∏è 1h 20min</span>
                                    </div>
                                </div>
                            </div>
                            <div class="analysis-actions">
                                <div class="analysis-status completed">
                                    Conclu√≠da
                                </div>
                                <button class="btn-icon" title="Ver resultados">üëÅÔ∏è</button>
                                <button class="btn-icon" title="Exportar">üì§</button>
                                <button class="btn-icon" title="Mais op√ß√µes">‚ãØ</button>
                            </div>
                        </div>

                        <!-- An√°lise 3 -->
                        <div class="analysis-item">
                            <div class="analysis-main">
                                <div class="analysis-type mobility">
                                    <div class="type-icon">üöó</div>
                                    <span>Mobilidade</span>
                                </div>
                                <div class="analysis-info">
                                    <h4>Corredor Central - Acessibilidade</h4>
                                    <p>An√°lise de fluxos e proposta de corredor de transporte</p>
                                    <div class="analysis-meta">
                                        <span class="location">üìç Belo Horizonte, MG</span>
                                        <span class="date">üìÖ 10 Jan 2024</span>
                                        <span class="duration">‚è±Ô∏è 2h 15min</span>
                                    </div>
                                </div>
                            </div>
                            <div class="analysis-actions">
                                <div class="analysis-status processing">
                                    Processando
                                </div>
                                <div class="progress-indicator">
                                    <div class="progress-spinner"></div>
                                    <span>65%</span>
                                </div>
                            </div>
                        </div>

                        <!-- An√°lise 4 -->
                        <div class="analysis-item">
                            <div class="analysis-main">
                                <div class="analysis-type sustainability">
                                    <div class="type-icon">‚ôªÔ∏è</div>
                                    <span>Sustentabilidade</span>
                                </div>
                                <div class="analysis-info">
                                    <h4>Bairro Sustent√°vel - Indicadores</h4>
                                    <p>Avalia√ß√£o de pegada ecol√≥gica e efici√™ncia energ√©tica</p>
                                    <div class="analysis-meta">
                                        <span class="location">üìç Curitiba, PR</span>
                                        <span class="date">üìÖ 08 Jan 2024</span>
                                        <span class="duration">‚è±Ô∏è 1h 45min</span>
                                    </div>
                                </div>
                            </div>
                            <div class="analysis-actions">
                                <div class="analysis-status completed">
                                    Conclu√≠da
                                </div>
                                <button class="btn-icon" title="Ver resultados">üëÅÔ∏è</button>
                                <button class="btn-icon" title="Exportar">üì§</button>
                                <button class="btn-icon" title="Mais op√ß√µes">‚ãØ</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Insights e Recomenda√ß√µes -->
                <div class="analysis-insights">
                    <h2>Insights e Recomenda√ß√µes</h2>
                    <div class="insights-grid">
                        <div class="insight-card critical">
                            <div class="insight-header">
                                <div class="insight-icon">‚ö†Ô∏è</div>
                                <h4>√Årea Cr√≠tica Identificada</h4>
                            </div>
                            <p>Centro de S√£o Paulo apresenta temperaturas 4.2¬∞C acima da m√©dia regional</p>
                            <div class="insight-actions">
                                <button class="btn-secondary">Ver Detalhes</button>
                                <button class="btn-primary">Criar Projeto</button>
                            </div>
                        </div>

                        <div class="insight-card opportunity">
                            <div class="insight-header">
                                <div class="insight-icon">üí°</div>
                                <h4>Oportunidade de Expans√£o</h4>
                            </div>
                            <p>Zona Norte do RJ tem potencial para 35% de aumento em √°reas verdes</p>
                            <div class="insight-actions">
                                <button class="btn-secondary">Ver An√°lise</button>
                                <button class="btn-primary">Planejar Interven√ß√£o</button>
                            </div>
                        </div>

                        <div class="insight-card recommendation">
                            <div class="insight-header">
                                <div class="insight-icon">üìã</div>
                                <h4>Recomenda√ß√£o Priorit√°ria</h4>
                            </div>
                            <p>Implementar corredor verde pode reduzir temperatura em at√© 2.8¬∞C</p>
                            <div class="insight-actions">
                                <button class="btn-secondary">Estudo de Viabilidade</button>
                                <button class="btn-primary">Aplicar Recomenda√ß√£o</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal Nova An√°lise -->
    <div id="newAnalysisModal" class="modal">
        <div class="modal-content large-modal">
            <span class="close">&times;</span>
            <h2>Nova An√°lise</h2>
            <form id="newAnalysisForm" class="analysis-form">
                <div class="form-group">
                    <label for="analysisType">Tipo de An√°lise *</label>
                    <select id="analysisType" required>
                        <option value="">Selecione o tipo</option>
                        <option value="heat">Ilhas de Calor</option>
                        <option value="vegetation">√Åreas Verdes</option>
                        <option value="sustainability">Sustentabilidade</option>
                        <option value="demography">Demografia</option>
                        <option value="mobility">Mobilidade</option>
                        <option value="hydrology">Hidrologia Urbana</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="analysisArea">√Årea de Estudo *</label>
                    <div class="area-selection">
                        <select id="areaType">
                            <option value="saved">Localiza√ß√£o Salva</option>
                            <option value="custom">√Årea Personalizada</option>
                            <option value="current">Localiza√ß√£o Atual</option>
                        </select>
                        <select id="savedLocation" required>
                            <option value="">Selecione uma localiza√ß√£o</option>
                            <option value="sp_centro">Centro - S√£o Paulo, SP</option>
                            <option value="rj_zona_norte">Zona Norte - Rio de Janeiro, RJ</option>
                            <option value="bh_centro">Centro - Belo Horizonte, MG</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="analysisName">Nome da An√°lise *</label>
                    <input type="text" id="analysisName" required placeholder="Ex: An√°lise de Calor - Centro SP">
                </div>

                <div class="form-group">
                    <label for="analysisDescription">Descri√ß√£o</label>
                    <textarea id="analysisDescription" rows="3" placeholder="Descreva os objetivos desta an√°lise..."></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="analysisPriority">Prioridade</label>
                        <select id="analysisPriority">
                            <option value="low">Baixa</option>
                            <option value="medium" selected>M√©dia</option>
                            <option value="high">Alta</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="analysisTags">Tags</label>
                        <input type="text" id="analysisTags" placeholder="Ex: calor-urbano, vegeta√ß√£o, sustentabilidade">
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelAnalysisBtn">Cancelar</button>
                    <button type="submit" class="btn-primary">Iniciar An√°lise</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/analysis.js"></script>
    <script src="js/auth-manager.js"></script>
</body>
</html>